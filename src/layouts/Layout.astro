---
import Badge from "../components/Badge.tsx";
import ThemeToggler from "../components/ThemeToggler.astro";

import "../styles/global.css";

interface Props {
    title: string;
    description?: string;
}

const { title, description: _description } = Astro.props;

const fallbackDescription = "npmsmell highlights trivial and outdated NPM packages.";
const description = _description ?? fallbackDescription;
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.png" />
        <title>{title}</title>
        <meta name="description" content={description} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content=`https://npmsmell.com//og.png?${Date.now()}` />
        <meta property="og:type" content="website" />
        <meta property="twitter:creator" content="@tmkndev" />
        <meta name="application-name" content="npmsmell" />
        <script async src="/plausible/js/script.js" is:inline></script>
        <script type="text/javascript" is:inline>
            ((window.plausible =
                window.plausible ||
                function () {
                    (plausible.q = plausible.q || []).push(arguments);
                }),
                (plausible.init =
                    plausible.init ||
                    function (i) {
                        plausible.o = i || {};
                    }));
            plausible.init({
                endpoint: "/plausible/api/event"
            });
        </script>
    </head>
    <body class="bg-background mx-auto max-w-(--breakpoint-xl)">
        <script is:inline>
            if (
                localStorage.getItem("theme") === "dark" ||
                (!("theme" in localStorage) &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches)
            ) {
                document.body.classList.add("dark");
            } else {
                document.body.classList.remove("dark");
            }
        </script>
        <header>
            <div class="px-4 py-8 sm:px-6 sm:py-8 lg:px-8">
                <div class="flex">
                    <div class="flex-grow">
                        <div class="flex justify-between">
                            <a class="cursor-pointer" href="/"
                                ><h1
                                    class="focus-in-expand text-content text-2xl font-bold sm:text-3xl"
                                >
                                    <span
                                        class="from-title-from to-title-to inline-block bg-linear-to-r bg-clip-text text-2xl text-transparent md:text-5xl"
                                        >NPM Smell<span class="text-white"> üçëüí®</span></span
                                    >
                                </h1>
                            </a>
                            <div class="">
                                <ThemeToggler />
                            </div>
                        </div>
                        <p class="text-muted-subtle mt-1.5">
                            <Badge type={"trivial"} /> and <Badge type={"obsolete-js"} /> NPM packages
                        </p>
                    </div>
                </div>
            </div>
        </header>
        <div
            class="bg-surface flex flex-col gap-8 p-4 sm:p-6 xl:rounded-t-3xl xl:rounded-b-3xl xl:p-8"
        >
            <slot />
            <footer>
                <p class="text-center text-sm drop-shadow-lg">
                    <a
                        class="text-content decoration-accent underline decoration-2 underline-offset-2"
                        href="https://twitter.com/tmkndev">@tmkndev</a
                    >
                </p>
            </footer>
        </div>
    </body>
</html>

<style>
    .focus-in-expand {
        animation: focus-in-expand 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
    }
    /* ----------------------------------------------
 * Generated by Animista on 2023-10-23 22:44:47
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

    /**
 * ----------------------------------------
 * animation focus-in-expand
 * ----------------------------------------
 */
    @keyframes focus-in-expand {
        0% {
            letter-spacing: -0.5em;
            -webkit-filter: blur(12px);
            filter: blur(12px);
            opacity: 0;
        }
        100% {
            -webkit-filter: blur(0px);
            filter: blur(0px);
            opacity: 1;
        }
    }
</style>
