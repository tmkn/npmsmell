---
import { Code } from "astro:components";

import { getDependencyTree } from "../data";

interface Props {
    pkg: string;
}
const { pkg } = Astro.props;

const dependencyTree = await getDependencyTree(pkg);
---

{
    dependencyTree.length > 1 && (
        <section>
            <div class="mx-auto max-w-screen-xl px-4 py-12 sm:px-6 md:py-8 lg:px-8 bg-white rounded gradient prose max-w-none">
                <h3>Dependency Tree</h3>
                <Code code={dependencyTree.join("\n")} lang="bash" theme="rose-pine-moon" />
            </div>
        </section>
    )
}
