---
import { getCollection } from "astro:content";

import { Search as SearchWidget, type FrontmatterData } from "../components/Search";

interface Props {
    showAllInitially: boolean;
    pathPrefix: string;
}

const { showAllInitially, pathPrefix } = Astro.props;

const allDependencies = await getCollection("dependencies");
const searchTiles: FrontmatterData[] = allDependencies.map(dependency => ({
    name: dependency.data.name,
    description: dependency.data.description,
    type: dependency.data.type
}));
---

<SearchWidget tiles={searchTiles} pathPrefix={pathPrefix} showAllInitially={showAllInitially} />
